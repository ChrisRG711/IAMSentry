apiVersion: v1
kind: Secret
metadata:
  name: {{ include "iamsentry.fullname" . }}-auth
  labels:
    {{- include "iamsentry.labels" . | nindent 4 }}
type: Opaque
data:
  # API key (base64 encoded)
  api-key: {{ include "iamsentry.apiKey" . | b64enc | quote }}
  {{- if .Values.auth.basicAuthUsers }}
  # Basic auth users (base64 encoded)
  basic-auth-users: {{ .Values.auth.basicAuthUsers | b64enc | quote }}
  {{- end }}
